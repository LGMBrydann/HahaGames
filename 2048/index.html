<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Interactive Learning Lab</title>
<link rel="icon" href="assets/school.ico">
<style>
body { font-family:Arial; text-align:center; margin-top:50px; }
#board { display:grid; grid-template-columns: repeat(4,80px); grid-gap:5px; margin:auto; }
.cell { width:80px; height:80px; background:#ccc; display:flex; align-items:center; justify-content:center; font-size:1.5em; font-weight:bold; }
</style>
</head>
<body>
<h1>Number Merge 2048</h1>
<div id="board"></div>
<script>
const board = Array.from({length:16},()=>0);
const divs=[]; const b=document.getElementById('board');
for(let i=0;i<16;i++){const c=document.createElement('div');c.className='cell';b.appendChild(c);divs.push(c);}
function add(){let zeros=board.map((v,i)=>v===0?i:null).filter(v=>v!==null);if(zeros.length){let i=zeros[Math.floor(Math.random()*zeros.length)];board[i]=2;}}
function draw(){board.forEach((v,i)=>divs[i].textContent=v>0?v:'' );}
function slide(arr){let a=arr.filter(v=>v);for(let i=0;i<a.length-1;i++){if(a[i]===a[i+1]){a[i]*=2;a[i+1]=0;}}a=a.filter(v=>v);while(a.length<4)a.push(0);return a;}
function move(dir){let newB=[];for(let i=0;i<4;i++){let row=board.slice(i*4,i*4+4);if(dir==='up'||dir==='down'){row=[board[i],board[i+4],board[i+8],board[i+12]];} if(dir==='right'||dir==='down'){row=row.reverse();} row=slide(row); if(dir==='right'||dir==='down'){row=row.reverse();} if(dir==='up'||dir==='down'){for(let j=0;j<4;j++){newB[i+4*j]=row[j];}}else{newB.push(...row);}}board.splice(0,16,...newB);add(); draw();}
document.addEventListener('keydown',e=>{if(e.key.includes('Arrow')){move({ArrowLeft:'left',ArrowRight:'right',ArrowUp:'up',ArrowDown:'down'}[e.key]);}});
add(); add(); draw();
</script>
</body>
</html>
